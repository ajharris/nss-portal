{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}

{% block title %}View Event{% endblock %}

{% block page_content %}
<div class="container">
    <h1>Event Details</h1>
    <p><strong>Show Name:</strong> {{ event.showName }}</p>
    <p><strong>Show Number:</strong> {{ event.showNumber }}</p>
    <p><strong>Account Manager:</strong> {{ event.accountManager }}</p>
    <p><strong>Location:</strong> {{ event.location }}</p>
    <p><strong>Notes:</strong> {{ event.notes }}</p>
    <p><strong>SharePoint Link:</strong> <a href="{{ event.sharepoint_link }}">{{ event.sharepoint_link }}</a></p>

    <h2>Shifts</h2>
    <ul>
        {% for shift in shifts %}
            <li>{{ shift.start }} to {{ shift.end }} - {{ shift.worker.first_name }} {{ shift.worker.last_name }}</li>
        {% endfor %}
    </ul>

    <h2>Expenses</h2>
    <ul>
        {% for expense in expenses %}
            <li>{{ expense.date }} - {{ expense.details }} - {{ expense.net }}</li>
        {% endfor %}
    </ul>

    <h2>Add Notes</h2>
    {{ wtf.quick_form(note_form) }}

    <h2>Upload Document</h2>
    {{ wtf.quick_form(document_form) }}

    <h2>Add SharePoint Link</h2>
    {{ wtf.quick_form(sharepoint_form) }}

    <h2>Add Crew Request</h2>
    <form method="post" action="{{ url_for('add_crew_request', event_id=event.id) }}">
        {{ crew_request_form.hidden_tag() }}
        {{ wtf.form_field(crew_request_form.date) }}
        {{ wtf.form_field(crew_request_form.time) }}
        {{ wtf.form_field(crew_request_form.worker) }}
        <div class="form-group">
            <label>Type of Crew</label><br>
            {{ wtf.form_field(crew_request_form.setup) }} Setup<br>
            {{ wtf.form_field(crew_request_form.show) }} Show<br>
            {{ wtf.form_field(crew_request_form.strike) }} Strike
        </div>
        {{ wtf.form_field(crew_request_form.submit) }}
    </form>
</div>
{% endblock %}
